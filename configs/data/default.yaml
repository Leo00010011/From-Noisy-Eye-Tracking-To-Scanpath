defaults:
  - split_strategy: stimuly_disjoint
  - _self_

load:
  batch_size: 128
  use_img_dataset: True
  num_workers: 4
  persistent_workers: True
  prefetch_factor: 2
  pin_memory: True
  use_cached_img_dataset: True
  img_size: 256
  coord_height: 320
  coord_width: 512
  log: True
transforms:
# Save Clean X
#  transform_list: ['ExtractRandomPeriod', 'StandarizeTime', 'SaveCleanX' ,'AddRandomCenterCorrelatedRadialNoise','DiscretizationNoise',
#                   'NormalizeCoords', 'NormalizeTime', 'NormalizeFixationCoords', 'LogNormalizeDuration']
# Log Normalization of durations
#  transform_list: ['ExtractRandomPeriod', 'StandarizeTime' ,'AddRandomCenterCorrelatedRadialNoise','DiscretizationNoise',
#                   'NormalizeCoords', 'NormalizeTime', 'NormalizeFixationCoords', 'LogNormalizeDuration']
# Add Gaussian Noise to Fixations
  transform_list: ['ExtractRandomPeriod', 'StandarizeTime' ,'SaveCleanX','AddRandomCenterCorrelatedRadialNoise','DiscretizationNoise',
                   'NormalizeCoords', 'NormalizeTime'
                   #,'AddGaussianNoiseToFixations'
                   , 'NormalizeFixationCoords', 'NormalizeDuration']
# Quantile Normalization of durations
#  transform_list: ['ExtractRandomPeriod', 'StandarizeTime' ,'AddRandomCenterCorrelatedRadialNoise','DiscretizationNoise',
#                   'NormalizeCoords', 'NormalizeTime', 'NormalizeFixationCoords', 'QuantileNormalizeDuration']                    
  ExtractRandomPeriod:
    start_index: 2
    period_duration: 2600
    sampling_rate: 60
    downsample_period: 200
    random_offset: True
  AddRandomCenterCorrelatedRadialNoise:
    initial_center_i: "${half:${data.load.coord_height}}"
    initial_center_j: "${half:${data.load.coord_width}}"
    angle_to_pixels: 16
    radial_corr: 0.5
    radial_avg_norm: 4.13
    radial_std: 5.5
    center_noise_std: 50
    center_corr: 0.9
    center_delta_norm: 200
    center_delta_r: 0.2
  DiscretizationNoise:
    image_H: "${data.load.coord_height}"
    image_W: "${data.load.coord_width}"
  NormalizeCoords:
    key: "x"
    mode: "coords"
    image_H: "${data.load.coord_height}"
    image_W: "${data.load.coord_width}"
  NormalizeTime:
    key: "x"
    mode: "time"
    period_duration: "${data.transforms.ExtractRandomPeriod.period_duration}"
  NormalizeFixationCoords:
    key: "y"
    mode: "coords"
    image_H: "${data.load.coord_height}"
    image_W: "${data.load.coord_width}"
  LogNormalizeDuration:
    mean: 5.4481
    std: 0.5076
    scale: 0.3333
    use_tan: True
  NormalizeDuration:
    key: "y"
    period_duration: 1200
    mode: "time"
  QuantileNormalizeDuration:
    pkl_path: "quantile_transformer.pkl"
  AddGaussianNoiseToFixations:
    std: 16.0
  GenerateHeatmaps:
    image_H: 32
    image_W: 32
    sigma: 1.5
  AddCurriculumNoise:
    num_steps: 50
    s: 1000
    start_alpha: 0.4
    n_updates: 5